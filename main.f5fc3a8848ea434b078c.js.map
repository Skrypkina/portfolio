{"version":3,"sources":["webpack:///./index.js"],"names":["slides","document","querySelectorAll","prevStep","querySelector","nextStep","dots","addEventListener","clearInterval","intervalId","slider","showPrevSlide","showNextSlide","constructor","options","this","slideArray","slideArr","dotArray","dotArr","currentIdx","hide","style","display","classList","add","forEach","slide","remove","length","showSlides","setInterval","menuOpenBtn","menu","nav","closeBtn","link","handleCloseBtnclick","expanded","getAttribute","setAttribute","form","name","tel","nameError","telError","backdrop","modal","paragraph","closeModal","showError","validity","valueMissing","textContent","tooShort","minLength","evt","preventDefault","dataToAdd","postId","email","FormData","currentTarget","value","valid","fetch","method","body","JSON","stringify","headers","then","res","ok","json","Error","response","statusText","data","console","log","innerHTML","catch","err","reset","event","className","window","onclick","target"],"mappings":"2FAAA,2BAOA,MAAMA,EAASC,SAASC,iBAAiB,mBACnCC,EAAWF,SAASG,cAAc,iBAClCC,EAAWJ,SAASG,cAAc,iBAClCE,EAAOL,SAASC,iBAAiB,iBAEvCC,EAASI,iBAAiB,SAsD1B,WACEC,cAAcC,GACdC,EAAOC,mBAvDTN,EAASE,iBAAiB,SA0D1B,WACEC,cAAcC,GACdC,EAAOE,mBAfT,MAAMF,EAAS,IA1Cf,MACEG,YAAYC,GACVC,KAAKC,WAAaF,EAAQG,SAC1BF,KAAKG,SAAWJ,EAAQK,OACxBJ,KAAKK,WAAaN,EAAQM,WAE5BC,OACEN,KAAKC,WAAWD,KAAKK,YAAYE,MAAMC,QAAU,QACjDR,KAAKG,SAASH,KAAKK,YAAYI,UAAUC,IAAI,UAC7CV,KAAKC,WAAWU,QAASC,IACnBA,IAAUZ,KAAKC,WAAWD,KAAKK,cACjCO,EAAML,MAAMC,QAAU,UAI5BX,gBACEG,KAAKG,SAASH,KAAKK,YAAYI,UAAUI,OAAO,UAChDb,KAAKC,WAAWU,QAASC,GAAWA,EAAML,MAAMC,QAAU,QAC1DR,KAAKK,aACDL,KAAKK,WAAaL,KAAKC,WAAWa,OAAS,IAC7Cd,KAAKK,WAAa,GAEpBL,KAAKC,WAAWD,KAAKK,YAAYE,MAAMC,QAAU,QACjDR,KAAKG,SAASH,KAAKK,YAAYI,UAAUC,IAAI,UAE/Cd,gBACEI,KAAKG,SAASH,KAAKK,YAAYI,UAAUI,OAAO,UAChDb,KAAKC,WAAWU,QAASC,GAAWA,EAAML,MAAMC,QAAU,QAC1DR,KAAKK,aACDL,KAAKK,WAAa,IACpBL,KAAKK,WAAaV,EAAOM,WAAWa,OAAS,GAE/Cd,KAAKC,WAAWD,KAAKK,YAAYE,MAAMC,QAAU,QACjDR,KAAKG,SAASH,KAAKK,YAAYI,UAAUC,IAAI,UAE/CK,aACE,OAAOC,YAAY,KACjBhB,KAAKH,iBACJ,OAImB,CACxBK,SAAU,IAAIjB,GACdmB,OAAQ,IAAIb,GACZc,WAAY,IAEdV,EAAOW,OACP,MAAMZ,EAAaC,EAAOoB,aAgB1B,MAAME,EAAc/B,SAASG,cAAc,oBACrC6B,EAAOhC,SAASG,cAAc,eAC9B8B,EAAMjC,SAASG,cAAc,cAC7B+B,EAAWlC,SAASG,cAAc,gBAClCgC,EAAOnC,SAASG,cAAc,eAapC,SAASiC,IACP,MAAMC,EAC0C,SAA9CN,EAAYO,aAAa,mBAA+B,EAC1DP,EAAYQ,aAAa,iBAAkBF,GAC3CL,EAAKT,UAAUI,OAAO,WACtBM,EAAIV,UAAUI,OAAO,WAhBvBI,EAAYzB,iBAAiB,SAI7B,WACE,MAAM+B,EAC0C,SAA9CN,EAAYO,aAAa,mBAA+B,EAC1DP,EAAYQ,aAAa,iBAAkBF,GAC3CL,EAAKT,UAAUC,IAAI,WACnBS,EAAIV,UAAUC,IAAI,cARpBU,EAAS5B,iBAAiB,QAAS8B,GACnCD,EAAK7B,iBAAiB,QAAS8B,GAkB/B,MAAMI,EAAOxC,SAASG,cAAc,eAC9BsC,EAAOzC,SAASG,cAAc,eAC9BuC,EAAM1C,SAASG,cAAc,cAC7BwC,EAAY3C,SAASG,cAAc,sBACnCyC,EAAW5C,SAASG,cAAc,2BAIlC0C,EAAW7C,SAASG,cAAc,mBAClC2C,EAAQ9C,SAASG,cAAc,gBAC/B4C,EAAY/C,SAASG,cAAc,oBACnC6C,EAAahD,SAASG,cAAc,sBAmE1C,SAAS8C,IACHR,EAAKS,SAASC,aAChBR,EAAUS,YAAc,2BACfV,EAAIQ,SAASC,aACtBP,EAASQ,YAAc,+BACdX,EAAKS,SAASG,SACvBV,EAAUS,YAAe,uBAAsBX,EAAKa,kBAC3CZ,EAAIQ,SAASG,WACtBT,EAASQ,YAAe,uBAAsBV,EAAIY,kBAzEtDd,EAAKlC,iBAAiB,UA2BtB,SAA0BiD,GACxBA,EAAIC,iBACJ,MAAMC,EAAY,CAChBC,OAAQ,IACRC,MAAO,qBAOT,GALiB,IAAIC,SAASL,EAAIM,eACzBpC,QAAQ,CAACqC,EAAOrB,KACvBgB,EAAUhB,GAAQqB,KAGfrB,EAAKS,SAASa,MAEjB,YADAd,IAEK,IAAKP,EAAIQ,SAASa,MAEvB,YADAd,IAIFe,MAtDU,6CAsDC,CACTC,OAAQ,OACRC,KAAMC,KAAKC,UAAUX,GACrBY,QAAS,CAAE,eAAgB,qCAE1BC,KAAMC,IACL,GAAIA,EAAIC,GAAI,OAAOD,EAAIE,OACvB,MAAM,IAAIC,MAAM,wBAA0BC,SAASC,cAEpDN,KAAMO,IACLC,QAAQC,IAAIF,GACZhC,EAAStB,UAAUC,IAAI,WACvBuB,EAAUiC,UAAeH,EAAKpC,KAAP,0DAExBwC,MAAOC,GAAQJ,QAAQC,IAAIG,IAE9B1C,EAAK2C,WA7DPnC,EAAW1C,iBAAiB,QAAS,KACnCuC,EAAStB,UAAUI,OAAO,aAE5Bc,EAAKnC,iBAAiB,SAAS,SAAU8E,GACnC3C,EAAKS,SAASa,OAChBpB,EAAUqC,UAAY,GACtBrC,EAAU0C,UAAY,SAEtBpC,OAGJP,EAAIpC,iBAAiB,SAAS,SAAU8E,GAClC1C,EAAIQ,SAASa,OACfnB,EAASoC,UAAY,GACrBpC,EAASyC,UAAY,SAErBpC,OAIJqC,OAAOC,QAAU,SAAUH,GACrBA,EAAMI,SAAW1C,GACnBD,EAAStB,UAAUI,OAAO,a","file":"main.f5fc3a8848ea434b078c.js","sourcesContent":["// import \"@babel/polyfill\";\nimport \"./styles/styles.css\";\nimport \"./styles/main.scss\";\n\n(\"use strict\");\n\n// slider\nconst slides = document.querySelectorAll(\"[ data-slides ]\");\nconst prevStep = document.querySelector(\"[ data-prev ]\");\nconst nextStep = document.querySelector(\"[ data-next ]\");\nconst dots = document.querySelectorAll(\"[ data-dots ]\");\n\nprevStep.addEventListener(\"click\", handlePrevBtnClick);\nnextStep.addEventListener(\"click\", handleNextBtnClick);\n\n//================================\nclass Slider {\n  constructor(options) {\n    this.slideArray = options.slideArr;\n    this.dotArray = options.dotArr;\n    this.currentIdx = options.currentIdx;\n  }\n  hide() {\n    this.slideArray[this.currentIdx].style.display = \"block\";\n    this.dotArray[this.currentIdx].classList.add(\"active\");\n    this.slideArray.forEach((slide) => {\n      if (slide !== this.slideArray[this.currentIdx]) {\n        slide.style.display = \"none\";\n      }\n    });\n  }\n  showNextSlide() {\n    this.dotArray[this.currentIdx].classList.remove(\"active\");\n    this.slideArray.forEach((slide) => (slide.style.display = \"none\"));\n    this.currentIdx++;\n    if (this.currentIdx > this.slideArray.length - 1) {\n      this.currentIdx = 0;\n    }\n    this.slideArray[this.currentIdx].style.display = \"block\";\n    this.dotArray[this.currentIdx].classList.add(\"active\");\n  }\n  showPrevSlide() {\n    this.dotArray[this.currentIdx].classList.remove(\"active\");\n    this.slideArray.forEach((slide) => (slide.style.display = \"none\"));\n    this.currentIdx--;\n    if (this.currentIdx < 0) {\n      this.currentIdx = slider.slideArray.length - 1;\n    }\n    this.slideArray[this.currentIdx].style.display = \"block\";\n    this.dotArray[this.currentIdx].classList.add(\"active\");\n  }\n  showSlides() {\n    return setInterval(() => {\n      this.showNextSlide();\n    }, 3000);\n  }\n}\n\nconst slider = new Slider({\n  slideArr: [...slides],\n  dotArr: [...dots],\n  currentIdx: 0,\n});\nslider.hide();\nconst intervalId = slider.showSlides();\n\nfunction handlePrevBtnClick() {\n  clearInterval(intervalId);\n  slider.showPrevSlide();\n}\n\nfunction handleNextBtnClick() {\n  clearInterval(intervalId);\n  slider.showNextSlide();\n}\n\n//================================\n\n// mobile menu\n\nconst menuOpenBtn = document.querySelector(\"[data-menu-open]\");\nconst menu = document.querySelector(\"[data-menu]\");\nconst nav = document.querySelector(\"[data-nav]\");\nconst closeBtn = document.querySelector(\"[data-close]\");\nconst link = document.querySelector(\"[data-link]\");\n\nmenuOpenBtn.addEventListener(\"click\", handleOpenBtnClick);\ncloseBtn.addEventListener(\"click\", handleCloseBtnclick);\nlink.addEventListener(\"click\", handleCloseBtnclick);\n\nfunction handleOpenBtnClick() {\n  const expanded =\n    menuOpenBtn.getAttribute(\"aria-expanded\") === \"true\" || false;\n  menuOpenBtn.setAttribute(\"aria-expanded\", !expanded);\n  menu.classList.add(\"is-open\");\n  nav.classList.add(\"is-open\");\n}\nfunction handleCloseBtnclick() {\n  const expanded =\n    menuOpenBtn.getAttribute(\"aria-expanded\") === \"true\" || false;\n  menuOpenBtn.setAttribute(\"aria-expanded\", !expanded);\n  menu.classList.remove(\"is-open\");\n  nav.classList.remove(\"is-open\");\n}\n\n//============================ form\nconst form = document.querySelector(\"[data-form]\");\nconst name = document.querySelector(\"[data-name]\");\nconst tel = document.querySelector(\"[data-tel]\");\nconst nameError = document.querySelector(\".name + span.error\");\nconst telError = document.querySelector(\".phone + span.tel-error\");\nconst url = \"https://jsonplaceholder.typicode.com/users\";\n\n//modal\nconst backdrop = document.querySelector(\"[data-backdrop]\");\nconst modal = document.querySelector(\"[data-modal]\");\nconst paragraph = document.querySelector(\"[data-paragraph]\");\nconst closeModal = document.querySelector(\"[data-close-modal]\");\n\nform.addEventListener(\"submit\", handleFormSubmit);\ncloseModal.addEventListener(\"click\", () => {\n  backdrop.classList.remove(\"is-open\");\n});\nname.addEventListener(\"input\", function (event) {\n  if (name.validity.valid) {\n    nameError.innerHTML = \"\";\n    nameError.className = \"error\";\n  } else {\n    showError();\n  }\n});\ntel.addEventListener(\"input\", function (event) {\n  if (tel.validity.valid) {\n    telError.innerHTML = \"\";\n    telError.className = \"error\";\n  } else {\n    showError();\n  }\n});\n\nwindow.onclick = function (event) {\n  if (event.target !== modal) {\n    backdrop.classList.remove(\"is-open\");\n  }\n};\n//--------------------------------\nfunction handleFormSubmit(evt) {\n  evt.preventDefault();\n  const dataToAdd = {\n    postId: 500,\n    email: \"Sincere@april.biz\",\n  };\n  const formData = new FormData(evt.currentTarget);\n  formData.forEach((value, name) => {\n    dataToAdd[name] = value;\n  });\n\n  if (!name.validity.valid) {\n    showError();\n    return;\n  } else if (!tel.validity.valid) {\n    showError();\n    return;\n  }\n\n  fetch(url, {\n    method: \"POST\",\n    body: JSON.stringify(dataToAdd),\n    headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\n  })\n    .then((res) => {\n      if (res.ok) return res.json();\n      throw new Error(\"Error while fetching \" + response.statusText);\n    })\n    .then((data) => {\n      console.log(data);\n      backdrop.classList.add(\"is-open\");\n      paragraph.innerHTML = `${data.name}</br> спасибо за заказ. Наш менеджер свяжется с вами.`;\n    })\n    .catch((err) => console.log(err));\n\n  form.reset();\n}\n\nfunction showError() {\n  if (name.validity.valueMissing) {\n    nameError.textContent = \"Введите имя, пожалуйста.\";\n  } else if (tel.validity.valueMissing) {\n    telError.textContent = \"Введите телефон, пожалуйста.\";\n  } else if (name.validity.tooShort) {\n    nameError.textContent = `Должно быть минимум ${name.minLength} буквы`;\n  } else if (tel.validity.tooShort) {\n    telError.textContent = `Должно быть минимум ${tel.minLength} цифр`;\n  }\n}\n"],"sourceRoot":""}